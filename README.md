# Задание для рефакторинга: Интернет-магазин

## Описание проекта

Этот проект представляет собой простой интернет-магазин, написанный на React с использованием Redux Toolkit. **Код содержит типичные антипаттерны**, которые необходимо исправить.

## Цель задания

Ваша задача - провести рефакторинг кода, улучшив его качество, читаемость и поддерживаемость. 

## Функциональность

Приложение включает:
- Каталог товаров с фильтрацией и поиском
- Корзину покупок
- Добавление/удаление товаров
- Изменение количества товаров
- Оформление заказа

* рефакторинг стилей и верстки оцениваться не будет

## Требования к виду результата
1. Ссылка на гит репозиторий проекта
2. Текстовый файл, с описанием внесенных изменений в проекте, и решенных в нем проблем.


## Инструкции по запуску

1. Установите зависимости:
```bash
npm install
```

2. Запустите проект:
```bash
npm run dev
```

3. Откройте браузер по адресу `http://localhost:5173`


## Основные изменения 

### 1. Переход на TypeScript

Весь проект переведён с JavaScript на TypeScript.
Добавлены строгие типы для:
товаров (IProduct),
состояния Redux (AppState),
query-параметров (IGeneralQuery),
категорий и сортировки (Category, SortBy).
Устранено использование any — весь код полностью типизирован.

### 2. Архитектурная декомпозиция

Исходный монолитный файл App.tsx разбит на логические компоненты:
Header.tsx,
ProductList.tsx,
Cart.tsx,
ProductCard.tsx,
Вынесены:
типы → src/types/,
Redux-логика → src/store/,
утилиты и хуки → src/hooks/, src/utils/,
Соблюдён принцип единственной ответственности (SRP).

### 3. Оптимизация Redux-слоя

Удалено дублирование расчётов в редьюсерах;
Производные данные теперь вычисляются через мемоизированные селекторы;
Используются именованные action creators вместо строковых типов;
Состояние корзины и каталога полностью соответствует best practices Redux Toolkit.

### 4. Управление фильтрацией через URL-параметры

Поиск, категория и сортировка теперь хранятся в query-строке:
Пример: ?search=iphone&category=phones&sort=price
Реализован кастомный хук useSearchQueryParams, который:
безопасно читает параметры,
обновляет их без перезаписи остальных,
поддерживает удаление пустых значений.
При перезагрузке страницы или открытии ссылки — фильтры восстанавливаются автоматически.
Поддерживается шаринг ссылок с предустановленными фильтрами.

### 5. Исправление ошибок и улучшение надёжности

Устранены типизационные ошибки в useMemo и .map();
Добавлена валидация входящих query-параметров;
Гарантировано, что products всегда является массивом (IProduct[]), даже при загрузке;
Обработка пустого поискового запроса — параметр удаляется из URL.

### 
Даже после проведенного рефакторинга остается большое поле для изменений. Например улучшение архитектуры (FSD или Atomic), переход на createAsyncThunk + RTK Query, переход на страницы вместо одного экрана, добавление layout, ленивую загрузку. Так же UI и доступность можно улучшить, вместо простого "Загрузка..." — показывать карточки-заглушки, проверить наличие навигации с клавиатуры, alt у изображений. Можно ещё тестами покрыть, над производительностью поработать.
